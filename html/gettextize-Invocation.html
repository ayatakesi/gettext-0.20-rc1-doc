<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>gettextize Invocation (GNU gettext utilities)</title>

<meta name="description" content="gettextize Invocation (GNU gettext utilities)">
<meta name="keywords" content="gettextize Invocation (GNU gettext utilities)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Program-Index.html#Program-Index" rel="index" title="Program Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Maintainers.html#Maintainers" rel="up" title="Maintainers">
<link href="Adjusting-Files.html#Adjusting-Files" rel="next" title="Adjusting Files">
<link href="Prerequisites.html#Prerequisites" rel="prev" title="Prerequisites">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="gettextize-Invocation"></span><div class="header">
<p>
Next: <a href="Adjusting-Files.html#Adjusting-Files" accesskey="n" rel="next">Adjusting Files</a>, Previous: <a href="Prerequisites.html#Prerequisites" accesskey="p" rel="prev">Prerequisites</a>, Up: <a href="Maintainers.html#Maintainers" accesskey="u" rel="up">Maintainers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Program-Index.html#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="gettextizepuroguramunoHu-biChu-si"></span><h3 class="section">13.3 <code>gettextize</code>プログラムの呼び出し</h3>


<p><code>gettextize</code>プログラムは、GNU
<code>gettext</code>によりインターナショナライズされたパッケージのメンテナーを助けるための対話的なツールで、2つの目的のために使用されます:
</p>
<ul>
<li> 最初に、GNU <code>gettext</code>を使ってパッケージをするときは、ウィザードとして使用されます。

</li><li> パッケージ内でのGNU <code>gettext</code>サポートを、以前のGNU
<code>gettext</code>から新しいバージョンにアップグレードするための、移行ツールとして使用します。
</li></ul>

<p>このプログラムは以下のタスクを処理します:
</p>
<ul>
<li> GNU <code>gettext</code>によりインターナショナライズされた、すべてのパッケージで必要なファイルをパッケージにコピーします。

</li><li> 次のセクション
<a href="Adjusting-Files.html#Adjusting-Files">Adjusting Files</a>で説明する多くのタスクを、できるだけ自動的に処理します。

</li><li> 以前のバージョンのGNU 
<code>gettext</code>で使われていた陳腐化したファイルやイディオムを削除して、現在のバージョンのGNU
<code>gettext</code>で推奨される形式にします。

</li><li> 手動で行うべきタスクや、
<code>gettextize</code>で自動的に処理できないタスクの要約をプリントします。
</li></ul>

<p>呼び出し方は以下のようになります:
</p>
<span id="index-gettextize"></span>
<span id="index-gettextize-program_002c-usage"></span>
<div class="example">
<pre class="example">gettextize [ <var>option</var>&hellip; ] [ <var>directory</var> ]
</pre></div>

<p>以下のオプションを指定できます:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>-f</samp>&rsquo;</dt>
<dt>&lsquo;<samp>--force</samp>&rsquo;</dt>
<dd><span id="index-_002df_002c-gettextize-option"></span>
<span id="index-_002d_002dforce_002c-gettextize-option"></span>
<p>すでに存在するファイルを強制的に置き換えます。
</p>
</dd>
<dt>&lsquo;<samp>--po-dir=<var>dir</var></samp>&rsquo;</dt>
<dd><span id="index-_002d_002dpo_002ddir_002c-gettextize-option"></span>
<p>POファイルを含むディレクトリを指定します。このようなディレクトリーには、特定のPOTファイルをさまざまな言語に翻訳したファイルが含まれています。このオプションは、翻訳ドメインどとに複数回指定することができます。指定されなかったときは、<samp>po/</samp>というディレクトリーが更新されます。
</p>
</dd>
<dt>&lsquo;<samp>--no-changelog</samp>&rsquo;</dt>
<dd><span id="index-_002d_002dno_002dchangelog_002c-gettextize-option"></span>
<p>ChangeLogの作成・更新をしません。デフォルトでは<code>gettextize</code>は、影響を受けるディレクトリーごとの&lsquo;<samp>ChangeLog</samp>&rsquo;というファイルに、すべての変更(ファイルの追加・変更・削除)を記録します。
</p>
</dd>
<dt>&lsquo;<samp>--symlink</samp>&rsquo;</dt>
<dd><span id="index-_002d_002dsymlink_002c-gettextize-option"></span>
<p>必要なファイルをコピーするかわりに、シンボリックリンクを作成します。これはディスク容量を数キロバイト節約するのには便利ですが、自分自身を含む形式のtarballの作成には特別な配慮が必要になり、メンテナーがソースに適用できるいくつかの機能が使えなくなり、システムに新しいバージョンの<code>gettext</code>がインストールされたときにバグ(のような状態)を招きます。
</p>
</dd>
<dt>&lsquo;<samp>-n</samp>&rsquo;</dt>
<dt>&lsquo;<samp>--dry-run</samp>&rsquo;</dt>
<dd><span id="index-_002dd_002c-gettextize-option"></span>
<span id="index-_002d_002ddry_002drun_002c-gettextize-option"></span>
<p>変更を出力しますが、処理は行いません。普通に<code>gettextize</code>を実行したときのアクションはすべて抑止され、かわりにリストが標準出力に出力されるだけになります。
</p>
</dd>
<dt>&lsquo;<samp>--help</samp>&rsquo;</dt>
<dd><span id="index-_002d_002dhelp_002c-gettextize-option"></span>
<p>このヘルプを表示して終了します。
</p>
</dd>
<dt>&lsquo;<samp>--version</samp>&rsquo;</dt>
<dd><span id="index-_002d_002dversion_002c-gettextize-option"></span>
<p>バージョン情報を表示して終了します。
</p>
</dd>
</dl>

<p><var>directory</var>を指定した場合、そのディレクトリーはGNU
<code>gettext</code>を使う準備をしたいパッケージの、トップレベルのディレクトリーになります。
</p>
<p>プログラム<code>gettextize</code>は、以下のファイルを提供します。しかし<code>--force</code>
(<code>-f</code>)オプションを指定しなければ、既存のファイルは置き換えられません。
</p>
<ol>
<li> <samp>ABOUT-NLS</samp>ファイルは、あなたのパッケージのメインディレクトリー(トップレベルのディレクトリー)にコピーされます。このファイルには、GNU
gettextドキュメントへの参照が含まれます。これはパッケージ内でAutomakeのオプション&lsquo;<samp>gnu</samp>&rsquo;や&lsquo;<samp>gnits</samp>&rsquo;を使用する際の、エラー&ldquo;error:
required file &rsquo;./ABOUT-NLS&rsquo; not found&rdquo;も回避します。

</li><li> 作成された<samp>po/</samp>ディレクトリーには、最終的にはすべての翻訳用ファイルが保持されますが、初期状態ではGNU
<code>gettext</code>による<samp>po/Makefile.in.in</samp>(ファイル名に&lsquo;<samp>.in</samp>&rsquo;が2つあることに注意してください)と、いくつかの予備ファイルしか含まれていません。すでに<samp>po/</samp>というディレクトリーがあるときは、そのディレクトリーのファイルは保持され、<samp>Makefile.in.in</samp>と予備ファイルだけが上書きされます。

<p>&lsquo;<samp>--po-dir</samp>&rsquo;が指定されたときは、<samp>po/</samp>のかわりに&lsquo;<samp>--po-dir</samp>&rsquo;で指定されたそれぞれのディレクトリーに配置されます。
</p>
</li><li> ファイル<samp>config.rpath</samp>は、設定サポートファイルを含むディレクトリーにコピーされます。このファイルは、autoconfマクロ<code>AM_GNU_GETTEXT</code>で必要です。

</li><li> プロジェクトがGNU
<code>automake</code>しか使っていないときは、<code>autoconf</code>の一連のマクロファイルが、パッケージの<code>autoconf</code>マクロのレポジトリー(通常は<samp>m4/</samp>というディレクトリー)にコピーされます。
</li></ol>

<p>シンボリックリンクがサポートされている場合、<code>gettextize</code>はパッケージのディレクトリーへは実際にコピーはされず、かわりにシンボリックリンクが作成されます。これによりすべてのパッケージで必要なファイルによる重複を避けることができます。単に&lsquo;<samp>-h</samp>&rsquo;オプションを指定すると、配布物の<code>tar</code>アーカイブを作成するときには、それらのリンクが解決されて実際のファイルが配布物のアーカイブにコピーされます。そのため、メインの<samp>Makefile.in</samp>のゴール<code>dist</code>にたいする<code>tar</code>のオプションには、&lsquo;<samp>-h</samp>&rsquo;を使う必要があることを強調しておきましょう
</p>
<p>それだけではなく、<code>gettextize</code>は、影響を受ける各ディレクトリーの<samp>Makefile.am</samp>をすべて更新し、同様にトップレベルの<samp>configure.ac</samp>(または<samp>configure.in</samp>)も更新します。
</p>
<p>パッケージのサブディレクトリー<samp>po/</samp>と<samp>m4/</samp>にコピーされる、GNU
<code>gettext</code>をサポートするための最新のファイルを理解するのも、興味深いでしょう。これらのディレクトリーには、依然として主にパッケージ依存のファイルが含まれることになるでしょう。
</p>
<p><code>gettextize</code>プログラムは、置換または変更するファイルのバックアップを作成して、それらの変更をChangeLogに書き込みます。この方法により、注意深いメンテナーは<code>gettextize</code>を実行した後に、それによる変更が許容できるか確認して、可能なら調整することができます。このルールの例外は<samp>intl/</samp>ディレクトリーで、このディレクトリーがまだ存在するなら、完全に削除されます。
</p>
<p><code>gettextize</code>が、GNU
<code>gettext</code>を使うパッケージのための調整すべてを処理できる訳ではないことを理解するのことも重要です。残っている作業の量は、パッケージがGNU
<code>automake</code>を使うか否かによります。それでも大抵の場合、メンテナーは<code>gettextize</code>を呼び出した後、<a href="Adjusting-Files.html#Adjusting-Files">Adjusting Files</a>を読む必要があるでしょう。
</p>
<p>特に&lsquo;<samp>gettexize</samp>&rsquo;を使った後は、&lsquo;<samp>AC_COMPILE_IFELSE was called before
AC_GNU_SOURCE</samp>&rsquo;、または&lsquo;<samp>AC_RUN_IFELSE was called before
AC_GNU_SOURCE</samp>&rsquo;というエラーが発生するかもしれません。このエラーは<a href="configure_002eac.html#configure_002eac">configure.ac</a>で説明している方法で<samp>configure.ac</samp>を変更することにより修正できます。
</p>
<p><code>gettextize</code>は、GNU build
systemの一部ではないので、自動的には呼び出されず、パッケージメンテナーとしての責任を持たない人も呼び出さないことを理解しておくのも重要です。後者の目的のためには個別にツールが準備されています。詳細は<a href="autopoint-Invocation.html#autopoint-Invocation">autopoint Invocation</a>を参照してください。
</p>



</body>
</html>
